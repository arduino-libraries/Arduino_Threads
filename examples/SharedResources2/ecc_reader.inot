#include "ArduinoECCX08.h"

void setup() {
  int ret = ECCX08.begin();
  if (!ret) {
    Serial.println("ECCX08 could not start");
  }
}

int _randomNumber;

void loop() {
  randomNumber = ECCX08.random(65535);
  // ATTENTION: if we write `delay(randomNumber % 60);`
  // the call becomes blocking and it only gets read in the same thread
  // so we have full starvation (two consumers)
  delay(randomNumber.peek() % 60);
}
